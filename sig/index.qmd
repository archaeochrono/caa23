---
title: "Discussion"
subtitle: "Discussing the need for a new CAA Special Interest Group on chronological modelling"
author: "Eythan Levy, Thomas Huet, Florian Thiery, Allard W. Mees"
title-slide-attributes:
    data-background-image: "https://raw.githubusercontent.com/zoometh/thomashuet/master/teach/stats/images/mod-tree-splitgraph.jpg"
    data-background-size: "50%"
    data-background-opacity: "0.5"
format:
  revealjs: 
    css: https://zoometh.github.io/thomashuet/css/quarto.css
    slide-number: true
    chalkboard: true
    scrollable: true
    preview-links: auto
    reference-location: document
    footnotes-hover: true
    logo: https://raw.githubusercontent.com/archaeochrono/caa23/master/s12/images/logo-caa23.png
    footer: "<em>S12. Chronological modelling: formal methods and research software</em> <img src='https://raw.githubusercontent.com/archaeochrono/caa23/master/s12/images/logo-caa23.png' style='height: 40px;vertical-align: middle;'> <https://github.com/archaeochrono/caa23>  CAA23, Amsterdam, 2023"
    margin: 0
    width: 1200
---



# Introduction {background-color="#f3e7b3"}

```{r, echo=FALSE, warning=FALSE, message=FALSE}
library(plotly)
library(dplyr)
library(DT)
library(ggtern)
library(kableExtra)
library(knitr)
library(FactoMineR)
```

::: {.notes}
For Leibnitz, "time" groups events that follow one another, while "space" groups objects that coexist.
:::

## Chronological turn

<div class="row">
<div class="column">![](https://raw.githubusercontent.com/zoometh/thomashuet/master/teach/stats/images/hist-archaeo-romantic.png){height=450px}
<div class="captiontext">'Monument druidique pr√®s de Gisors', 1824</div>
</div>

<div class="column">![](https://raw.githubusercontent.com/zoometh/thomashuet/master/teach/stats/images/mod-spatial-gis.jpg){height=450px}
<div class="captiontext">Stack of information layer in a GIS</em></div>
</div>
</div>

::: {.notes}
In the 90's, development of GIS in archaeology led to a "geographic turn" but no such a thing for the temporal dimension
:::


# Proposed framework

## Platforms

**Git**, distributed version control system: <img src="https://raw.githubusercontent.com/zoometh/thomashuet/master/img/app-github.png" style="height: 60px; vertical-align:middle"> GitHub <span class="midtext"><https://github.com></span> and <img src="https://raw.githubusercontent.com/zoometh/thomashuet/master/img/app-gitlab.png" style="height: 60px; vertical-align:middle"> GitLab <span class="midtext"><https://gitlab.com></span>. <img src="https://raw.githubusercontent.com/zoometh/thomashuet/master/img/app-github.png" style='height: 60px;vertical-align: middle;'> is the üîù popular web-platform for source code management and software development (with over 128 million public repositories)


## Formats

::: {.panel-tabset}

### Standardisation

Promoting good practices

<img src='https://raw.githubusercontent.com/archaeochrono/caa23/master/s12/images/c14-standardisation.png'>


### ISOS

Using ISO standards: Date and time and Extended Date/Time Format (EDTF) Specification <span class="midtext"><https://www.iso.org/obp/ui/#iso:std:iso:8601:-2:ed-1:v1:en>, <https://www.loc.gov/standards/datetime/></span>

```{=html}
<iframe width="1000" height="500" src="https://www.loc.gov/standards/datetime/"></iframe>
```

:::

::: {.notes}
EDTF is an extension of the previously seen ISO-8601 Date format. It allows an accurate record of time events and durations whatever their fuzzyness (seasons, before, etc.)
:::


# Languages

Use of scripting languages

* <img src="https://raw.githubusercontent.com/zoometh/thomashuet/master/img/app-python.png" style='height: 60px;vertical-align: middle;'> is the 1<sup>st</sup> used worldwide and the 2<sup>nd</sup> used by archaeologists. 

* <img src="https://raw.githubusercontent.com/zoometh/thomashuet/master/img/app-r.png" style='height: 60px;vertical-align: middle;'> is a scripting language for data science, is the 1<sup>st</sup> used worldwide but only the 18<sup>th</sup> worldwide


```{.python}
from edtf import parse_edtf
from datetime import timedelta

def interval_intersection(interval1, interval2):
    start1, end1 = interval1.split("/")
    start2, end2 = interval2.split("/")
    dt_start1 = parse_edtf(start1)
    dt_end1 = parse_edtf(end1)
    dt_start2 = parse_edtf(start2)
    dt_end2 = parse_edtf(end2)
    # Determine the intersection of the intervals
    intersection_start = max(dt_start1, dt_start2)
    intersection_end = min(dt_end1, dt_end2)
    # If the intersection is not empty, return the intersection interval
    if intersection_end > intersection_start:
        return f"{intersection_start.isoformat()}/{intersection_end.isoformat()}"
    else:
        return None
      
hammurabi = "-1792/-1740" # 1752
neferhotep1 = "-1747/-1736"
intersection = interval_intersection(hammurabi, neferhotep1)
print(f"The intersection of {hammurabi} and {neferhotep1} is {intersection}")
```

```{python}
#| echo: false

from edtf import parse_edtf
from datetime import timedelta

def interval_intersection(interval1, interval2):
    start1, end1 = interval1.split("/")
    start2, end2 = interval2.split("/")
    dt_start1 = parse_edtf(start1)
    dt_end1 = parse_edtf(end1)
    dt_start2 = parse_edtf(start2)
    dt_end2 = parse_edtf(end2)
    # Determine the intersection of the intervals
    intersection_start = max(dt_start1, dt_start2)
    intersection_end = min(dt_end1, dt_end2)
    # If the intersection is not empty, return the intersection interval
    if intersection_end > intersection_start:
        return f"{intersection_start.isoformat()}/{intersection_end.isoformat()}"
    else:
        return None
      
hammurabi = "-1792/-1740" # 1752
neferhotep1 = "-1747/-1736"
intersection = interval_intersection(hammurabi, neferhotep1)
print(f"The intersection of {hammurabi} and {neferhotep1} is {intersection}")
```

\

# CAA State of the art


## CAA Special Interest Groups {auto-animate=true}

<span vertical-align: center><img src='https://raw.githubusercontent.com/archaeochrono/caa23/master/s12/images/logo-caa.png' style='height: 50px;vertical-align: middle;'> SIG <span class="midtext"><https://caa-international.org/special-interest-groups/></span>

<div class="midtext">
<ul>
<li>Complex Systems Simulation</li>
<li>Computer Programs for Archaeologists</li>
<li>Mobile GIS</li>
<li>3D spatial analysis</li>
<li>Scientific Scripting Languages in Archaeology</li>
<li>Semantics and LOUD in Archaeology</li>
<li>Archaeological Practices and Knowledge Work</li>
<li>Computationally Modeling Water-based Movement</li>  
</ul>
</div>


## CAA SIG *SSLA* and *Data Dragons*

::: {.panel-tabset}

### SSLA

<span class="midtext">Special Interest Group on Scientific Scripting Languages in Archaeology</span>

```{=html}
<iframe width="1000" height="500" src="https://sslarch.github.io/" title="SSLA"></iframe>
```

### Data Dragons

```{=html}
<iframe width="1000" height="500" src="https://datadragon.link/" title="Dragons"></iframe>
```


### Collaborative network

<here diagram>



:::

## Ongoing projects

Historical Time Representation

<center>

<span class="midtext"><https://github.com/historical-time></span>

<img src="https://raw.githubusercontent.com/archaeochrono/caa23/master/s12/images/app-github-org-chronomodel.png" width="1000"> 

</center>


